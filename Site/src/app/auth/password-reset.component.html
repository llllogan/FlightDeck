<div class="password-reset">
  <h1>Set Your Password</h1>
  <p class="intro">We detected your account from the previous version. Choose a password to continue.</p>

  <form [formGroup]="resetForm" (ngSubmit)="submit()" novalidate>
    <label class="field">
      <span>Name</span>
      <input type="text" formControlName="name" readonly />
    </label>

    <label class="field">
      <span>New Password</span>
      <input
        type="password"
        formControlName="password"
        minlength="8"
        maxlength="128"
        required
        autocomplete="new-password"
      />
      <small *ngIf="resetForm.controls.password.touched && resetForm.controls.password.hasError('required')">
        Password is required.
      </small>
      <small *ngIf="resetForm.controls.password.touched && resetForm.controls.password.hasError('minlength')">
        Password must be at least 8 characters.
      </small>
    </label>

    <label class="field">
      <span>Confirm Password</span>
      <input
        type="password"
        formControlName="confirmPassword"
        minlength="8"
        maxlength="128"
        required
        autocomplete="new-password"
      />
      <small *ngIf="resetForm.controls.confirmPassword.touched && resetForm.controls.confirmPassword.hasError('required')">
        Please confirm your password.
      </small>
      <small *ngIf="resetForm.controls.confirmPassword.touched && resetForm.controls.confirmPassword.hasError('mismatch')">
        Passwords do not match.
      </small>
    </label>

    <p *ngIf="error" class="error">{{ error }}</p>

    <button type="submit" [disabled]="submitting">{{ submitting ? 'Savingâ€¦' : 'Save Password' }}</button>
  </form>
</div>
